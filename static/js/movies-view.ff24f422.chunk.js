(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{63:function(e,t,n){e.exports={form:"SearchFilms_form__3T2xW",input:"SearchFilms_input__22wn5",button:"SearchFilms_button__19Ied"}},64:function(e,t,n){e.exports={trendItem:"MoviesPage_trendItem__1N0oj",trendMovie:"MoviesPage_trendMovie__4diU_",title:"MoviesPage_title__3XGuo",imageTrend:"MoviesPage_imageTrend__22ETk",trendLink:"MoviesPage_trendLink__1SwuJ"}},74:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,"default",(function(){return g}));var a=n(55),i=n(0),s=n(3),u=n(10),l=n(14),b=n(63),m=n.n(b),j=n(1);function p(e){var t=e.onSubmit,n=Object(i.useState)(""),r=Object(a.a)(n,2),c=r[0],o=r[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):l.b.info("Please enter your query!")},className:m.a.form,children:[Object(j.jsx)("input",{type:"text",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Enter movie name",onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:m.a.input}),Object(j.jsx)("button",{type:"submit",className:m.a.button,children:"Search"})]})}var f=n(56),O=n(57),h=n(64),d=n.n(h);function g(){var e,t=Object(s.f)(),n=Object(s.g)(),r=Object(i.useState)(null),c=Object(a.a)(r,2),b=c[0],m=c[1],h=Object(s.i)().url,g=Object(i.useState)(),_=Object(a.a)(g,2),v=_[0],y=_[1],w=null!==(e=new URLSearchParams(n.search).get("query"))&&void 0!==e?e:"";return Object(i.useEffect)((function(){w&&f.d(w).then((function(e){0!==e.results.length&&m(e.results),0===e.results.length&&(l.b.error('There are no movies on your request "'.concat(w,'!"')),m([]))})).catch((function(e){console.log(e),y("Something went wrong. Try again.")}))}),[w,v]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{onSubmit:function(e){t.push(o(o({},n),{},{search:"query=".concat(e)}))}}),b&&Object(j.jsx)("ul",{className:d.a.trendItem,children:b.map((function(e){return Object(j.jsx)("li",{className:d.a.trendMovie,children:Object(j.jsxs)(u.c,{to:{pathname:"".concat(h,"/").concat(e.id),state:{from:{location:n}}},className:d.a.trendLink,children:[Object(j.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):O.a,alt:e.title,width:"320",className:d.a.imageTrend}),Object(j.jsx)("p",{className:d.a.title,children:e.title})]})},e.id)}))})]})}}}]);
//# sourceMappingURL=movies-view.ff24f422.chunk.js.map